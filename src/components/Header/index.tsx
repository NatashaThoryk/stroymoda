import classes from './header.module.scss';
import {useRouter} from 'next/router'
import Link from 'next/link';
import React, {useEffect, useState} from 'react';

const menu = [
	{
		title: 'About',
		key: 'about'
	}, {
		title: 'Products',
		key: 'products'
	}, {
		title: 'Projects',
		key: 'projects'
	}, {
		title: 'Sustainability',
		key: 'sustainability'
	}, {
		title: 'News',
		key: 'news'
	}, {
		title: 'Contacts',
		key: 'contacts'
	},
]

const Header = () => {
	const {asPath} = useRouter()
	const [activeKeyItem, setActiveKeyItem] = useState(null);

	useEffect(() => {
		const urlStrings = asPath.split('/');
		if (urlStrings.length > 0) {
			menu.map((item: any) => {
				if (item.key === urlStrings[1]) {
					setActiveKeyItem(item.key)
				}
			})
		}

	}, [])

	return (
		<header className={classes.header}>
			<div className={classes.container}>
				<a href="/" className={classes.logo}>
					<svg width="200" height="56" viewBox="0 0 200 62" fill="none"
						 xmlns="http://www.w3.org/2000/svg">
						<path fillRule="evenodd" clipRule="evenodd"
							  d="M26.8674 11.2186C27.502 8.08553 28.1367 5.04735 28.8771 1.91422C28.9828 0.964792 28.6655 0.679962 28.2424 0.490076C27.6078 0.300189 26.5501 0.774901 25.9155 1.24962C25.0693 1.81928 16.2904 6.37655 11.2134 9.98439C6.13648 13.5922 5.7134 15.1113 5.81917 16.1557C6.03071 17.2001 7.72304 17.9596 9.73267 17.9596C11.7423 17.9596 17.877 17.6748 17.877 17.6748C17.877 17.6748 20.8385 16.3456 23.1655 15.0164C25.5982 13.6872 26.7617 12.4529 26.8674 11.2186Z"
							  fill="#D1030F"/>
						<path fillRule="evenodd" clipRule="evenodd"
							  d="M5.81906 15.7759C4.9729 20.2382 4.12673 24.7006 3.28057 29.1629C3.28057 29.1629 2.75172 31.2517 5.60752 31.2517C8.46331 31.2517 12.5883 30.7769 15.8672 30.3972C19.0403 30.0174 33.5308 28.5932 33.5308 28.5932C33.5308 28.5932 36.1751 26.2197 37.9732 23.941C39.6655 21.7573 40.6174 19.3838 40.829 18.4343C41.0405 17.5798 41.7809 15.2063 36.1751 15.7759C30.5693 16.3456 17.8768 17.8647 17.8768 17.8647C17.8768 17.8647 11.6364 18.1495 9.73255 18.1495C7.72292 18.1495 6.0306 17.295 5.81906 16.3456C5.81906 16.0607 5.81906 15.8709 5.81906 15.7759Z"
							  fill="#9A9A9C"/>
						<path fillRule="evenodd" clipRule="evenodd"
							  d="M40.829 18.3394C40.829 18.3394 37.7617 32.2961 37.1271 34.4798C33.7424 45.6831 14.598 52.2341 3.70372 56.1268C3.70372 56.1268 2.0114 56.6965 1.37678 56.3167C1.05947 56.1268 1.16524 55.4622 1.37678 54.8925C2.32871 51.1898 3.17487 47.6769 4.02103 43.8791C4.02103 43.8791 4.02103 41.8853 7.08837 41.1258C10.1557 40.2713 18.0885 37.3281 24.0116 34.5747C29.8289 31.8213 33.5309 28.4983 33.5309 28.4983C33.5309 28.4983 36.1751 26.1248 37.9732 23.8461C39.6656 21.5675 40.6175 19.2888 40.829 18.3394Z"
							  fill="#D1030F"/>
						<path fillRule="evenodd" clipRule="evenodd"
							  d="M60.7138 19.6686C60.7138 19.6686 59.1273 18.9091 57.2234 19.004C55.8484 19.099 54.3676 20.0484 54.4734 21.3776C54.5791 23.2765 56.9061 23.8461 59.0215 24.7956C64.0985 27.1692 62.1946 32.7708 56.8003 32.7708C56.8003 32.7708 56.8003 32.7708 56.6945 32.7708C53.9445 32.7708 52.2522 31.8214 52.2522 31.8214C52.4637 31.3467 52.5695 30.9669 52.781 30.4922C54.0503 31.1568 55.5311 31.4416 56.9061 31.3467C58.5984 31.2517 59.8676 30.4922 59.9734 28.4034C59.9734 25.0804 52.5695 26.1248 52.358 21.6624C52.2522 19.6686 54.4734 17.7698 57.0119 17.6748C59.3388 17.5799 61.2427 18.4344 61.2427 18.4344C61.1369 18.9091 60.9253 19.2889 60.7138 19.6686ZM98.6853 17.6748C103.445 17.6748 107.253 20.9029 107.253 25.1753C107.253 29.4478 103.445 32.8657 98.6853 32.8657C93.9256 32.8657 90.1179 29.4478 90.1179 25.1753C90.1179 20.9978 93.9256 17.6748 98.6853 17.6748ZM98.6853 18.8142C94.7718 18.8142 91.7045 21.7574 91.7045 25.2703C91.7045 28.7832 94.7718 31.8214 98.6853 31.8214C102.599 31.8214 105.772 28.7832 105.772 25.2703C105.772 21.7574 102.705 18.8142 98.6853 18.8142ZM154.109 17.6748C158.868 17.6748 162.676 20.9029 162.676 25.1753C162.676 29.4478 158.868 32.8657 154.109 32.8657C149.349 32.8657 145.541 29.4478 145.541 25.1753C145.436 20.9978 149.243 17.6748 154.109 17.6748ZM154.109 18.8142C150.195 18.8142 147.022 21.7574 147.022 25.2703C147.022 28.7832 150.09 31.8214 154.109 31.8214C158.022 31.8214 161.195 28.7832 161.195 25.2703C161.09 21.7574 158.022 18.8142 154.109 18.8142ZM181.821 28.0236C182.773 28.0236 183.619 28.0236 184.571 28.0236C186.474 24.5107 188.378 20.9978 190.388 17.5799C193.244 22.7068 196.1 27.8338 198.955 32.8657C198.427 32.8657 197.792 32.8657 197.263 32.8657C196.628 31.7264 195.994 30.5871 195.359 29.4478C192.08 29.4478 188.907 29.4478 185.628 29.4478C184.994 30.5871 184.359 31.7264 183.724 32.8657C183.196 32.8657 182.561 32.8657 182.032 32.8657C182.667 31.7264 183.301 30.5871 183.936 29.4478C183.301 29.4478 182.667 29.4478 181.926 29.4478C181.821 28.9731 181.821 28.4984 181.821 28.0236ZM186.369 28.0236C189.119 28.0236 191.763 28.0236 194.513 28.0236C193.138 25.5551 191.763 23.0866 190.388 20.6181C189.013 23.0866 187.638 25.5551 186.369 28.0236ZM164.897 17.6748C166.484 17.6748 168.176 17.6748 169.763 17.6748C174.628 17.6748 179.494 19.6686 180.023 24.5107C180.551 29.068 177.061 32.8657 171.244 32.8657C169.128 32.8657 167.013 32.8657 164.897 32.8657C164.792 27.8338 164.897 22.8018 164.897 17.6748ZM166.378 31.7264C167.965 31.7264 169.551 31.7264 171.244 31.7264C176.109 31.7264 178.965 28.3085 178.542 24.7006C178.119 20.808 173.782 18.9091 169.869 18.9091C168.705 18.9091 167.542 18.9091 166.484 18.9091C166.378 23.1815 166.378 27.454 166.378 31.7264ZM124.282 32.8657C124.282 27.8338 124.282 22.8967 124.282 17.8647C127.455 20.713 130.522 23.4664 133.695 26.3147C136.868 23.4664 140.041 20.713 143.215 17.8647C143.215 22.8967 143.215 27.8338 143.215 32.8657C142.686 32.8657 142.157 32.8657 141.628 32.8657C141.628 28.9731 141.628 25.0804 141.628 21.1877C138.984 23.5613 136.339 25.8399 133.695 28.2135C131.051 25.8399 128.512 23.5613 125.868 21.1877C125.868 25.0804 125.868 28.9731 125.868 32.8657C125.339 32.8657 124.811 32.8657 124.282 32.8657ZM110.532 17.6748C112.012 19.7636 113.387 21.8523 114.868 23.9411C116.349 21.8523 117.83 19.7636 119.31 17.6748C119.945 17.6748 120.474 17.6748 121.109 17.6748C119.31 20.2383 117.512 22.8967 115.609 25.4602C115.609 27.9287 115.609 30.3972 115.609 32.8657C115.08 32.8657 114.551 32.8657 114.022 32.8657C114.022 30.3972 114.022 27.9287 114.022 25.4602C112.224 22.8967 110.426 20.2383 108.628 17.6748C109.368 17.6748 110.003 17.6748 110.532 17.6748ZM78.6947 19.004C78.6947 22.1372 78.6947 25.3652 78.6947 28.4984C79.6467 28.4984 80.7044 28.4984 81.6563 28.4984C84.8294 28.1186 86.416 26.1248 86.416 23.6563C86.416 21.0928 84.6179 19.004 81.4447 19.004C80.5986 19.004 79.6467 19.004 78.6947 19.004ZM78.6947 29.8276C78.6947 30.8719 78.6947 31.8214 78.6947 32.8657C78.1659 32.8657 77.637 32.8657 77.1082 32.8657C77.1082 28.0236 77.1082 23.1815 77.1082 18.3394C77.1082 18.1495 77.1082 17.8647 77.1082 17.6748C78.2716 17.6748 79.3294 17.6748 80.4928 17.6748C84.7236 17.6748 88.1083 19.6686 88.1083 23.7512C88.1083 25.6501 87.3679 26.9793 86.416 27.9287C85.6756 28.6882 84.6179 29.163 83.8775 29.4478H83.7717C85.2525 30.5871 86.6275 31.7264 88.1083 32.8657C87.3679 32.8657 86.5217 32.8657 85.7813 32.8657C84.5121 31.8214 83.2428 30.8719 81.8678 29.8276C80.9159 29.8276 79.8582 29.8276 78.6947 29.8276ZM64.31 17.5799C67.8004 17.5799 71.2908 17.5799 74.7812 17.5799C74.7812 18.0546 74.7812 18.5293 74.7812 19.004C73.3005 19.004 71.8197 19.004 70.3389 19.004C70.3389 23.6563 70.3389 28.3085 70.3389 33.0556C69.81 33.0556 69.2812 33.0556 68.7523 33.0556C68.7523 28.4034 68.7523 23.7512 68.7523 19.004C67.2716 19.004 65.7908 19.004 64.2042 19.004C64.31 18.5293 64.31 18.0546 64.31 17.5799Z"
							  fill="#404149"/>
					</svg>
				</a>
				<nav>
					<ul>
						{
							menu.map((item, index) => (
								<li className={item.key === activeKeyItem ? classes.active_nav_item : ''} key={index}>
									<Link href={`/${item.key}`}><a>{item.title}</a></Link></li>
							))
						}
					</ul>
				</nav>
				<div className={classes.nav_right}>
					<input className={classes.search} type="search" id="search"/>
					<div className={classes.language}>
						<a href="/ru">Ru</a>
						<a href="/en" className={classes.active}>En</a>
					</div>
				</div>
			</div>
		</header>
	);
};

export default Header;
